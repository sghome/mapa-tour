<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Recorrido Turístico con Google Street View</title>
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    #map {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }

    #audio-guide {
      position: absolute;
      bottom: 10px;
      left: 10px;
      z-index: 1;
    }

    #street-view {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }
  </style>
</head>
<body>
  <div id="map"></div>
  <div id="audio-guide">
    <audio controls autoplay>
      <source src="audio-guia.mp3" type="audio/mpeg">
      Tu navegador no soporta el elemento de audio.
    </audio>
  </div>
  <div id="street-view"></div>

  <script>
    // Array de puntos de destino
    var destinations = [
      { name: 'Destino 1', lat: 40.7128, lng: -74.0060 },
      { name: 'Destino 2', lat: 34.0522, lng: -118.2437 },
      { name: 'Destino 3', lat: 51.5074, lng: -0.1278 }
      // Agrega más destinos según tu recorrido turístico
    ];

    // Crea el mapa
    function createMap() {
      var map = new google.maps.Map(document.getElementById('map'), {
        center: { lat: destinations[0].lat, lng: destinations[0].lng },
        zoom: 10
      });

      // Agrega marcadores en el mapa para cada destino
      destinations.forEach(function (destination) {
        new google.maps.Marker({
          position: { lat: destination.lat, lng: destination.lng },
          map: map,
          title: destination.name
        });
      });

      // Asigna eventos click a los marcadores
      destinations.forEach(function (destination, index) {
        var marker = map.markers[index];
        marker.addListener('click', function () {
          // Carga el Street View para el destino seleccionado
          loadStreetView(destination);
        });
      });
    }

    // Carga el Street View para un destino específico
    function loadStreetView(destination) {
      var panorama = new google.maps.StreetViewPanorama(
        document.getElementById('street-view'),
        {
          position: { lat: destination.lat, lng: destination.lng },
          pov: { heading: 165, pitch: 0 },
          zoom: 1
        }
      );
      map.setStreetView(panorama);
    }

    // Carga el API de Google Maps y crea el mapa
    function initMap() {
      createMap();
    }
  </script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBdvgeq54ephscn03S7pMbMAep069PWBrY&callback=initMap"></script>
</body>
</html>
